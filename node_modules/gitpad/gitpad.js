(function() {
  "use strict";

  var _git = require("gift");
  var _repo = null;
  var _valid_repo = false;

  /*
    List of functionalities to support
    1. Commit changes to local repo
    2. Push changes to remote repo
    3. Browse local repo for commits
    4. Roll back to a certain commit

  */

  // Initialize git repository
  exports.initRepo = function(path) {
    if (path)
      _repo = _git(path);
    else
      _repo = _git(".");

    _repo.status(function(err, status) {
      if (err) {
        // Init failed, indicate error
        _valid_repo = false;
        return false;

      } else {
        // Init successful, sets flag
        _valid_repo = true;
        return true;
      }
    })
  };

  // Show repo status (clean? tracked/untracked files?)
  exports.showStatus = function() {
    if (!_valid_repo) {
      // Did not properly init yet, return error
      return false;
    }

    _repo.status(function(err, status) {
      if (err) 
      console.log(status);
      console.log(err);
    })
  }

  // 

  exports.hello = function() {
    console.log("Hello World");
  }

}).call(this);
